<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Wardrobe</title>
    <link rel="stylesheet" href="popup.css" />
  </head>
  <body>
    <!-- Header -->
    <div class="header">
      <h1 class="title">
        <img src="../icons/blob.png" alt="" class="icon" />
        Shop your Color
      </h1>
      <div class="header-controls">
        <button class="favorite-btn" id="favorite-btn" title="Activate extension on this site" aria-label="Activate extension on this site">
          <span class="heart-icon">‚ô°</span>
        </button>
      </div>
    </div>

    <!-- Domain Info -->
    <div class="domain-info">
      <span class="domain-status" id="domain-status">Loading...</span>
    </div>

    <!-- Main Content -->
    <div class="content">
      <!-- Season Selection Section -->
      <section class="section" id="season-selection">
        <div class="section-header">
          <div class="section-header-text">
            <h2 class="section-title">My Season</h2>
            <p class="section-description">What is your season color palette?</p>
          </div>
        </div>

        <div class="season-grid" id="season-grid">
          <!-- Season cards will be dynamically generated from seasonal-palettes.js -->
        </div>

        <div class="current-season" id="current-season" style="display: none">
          <div class="current-season-info">
            <span class="current-season-name" id="current-season-name"></span>
          </div>
          <button class="btn-change" id="change-season" aria-label="Change season selection">
            Edit
          </button>
        </div>
      </section>

      <!-- Display Options Section -->
      <section class="section section-divider" id="display-options-section">
        <div class="section-header">
          <h2 class="section-title">Display Options</h2>
        </div>

        <div class="option-list">
          <label class="option-item">
            <input type="checkbox" id="show-overlay-toggle" checked />
            <span class="option-label">Show overlay widget</span>
            <p class="option-description">
              Display the floating stats widget on the page.
            </p>
          </label>

          <label class="option-item">
            <input type="checkbox" id="show-swatches-toggle" />
            <span class="option-label">Show color swatches (debug mode)</span>
            <p class="option-description">
              Display detected colors. Note: Color detection is ~70% accurate.
            </p>
          </label>
        </div>
      </section>

      <!-- Manual Color Picker Section -->
      <section class="section section-divider" id="color-picker-section">
        <div class="picker-card">
          <div class="picker-header">
            <div class="picker-info">
              <h3 class="picker-title">Manual Color Picker</h3>
              <p class="picker-description">
                Pick any color from the page to check if it matches your palette
              </p>
            </div>
          </div>
          <button
            class="btn btn-primary"
            id="activate-picker"
            aria-label="Activate color picker eyedropper"
          >
            <img src="../icons/eyedropper.png" alt="" class="btn-icon" />
            Pick a Color
          </button>
        </div>

        <!-- Color History -->
        <div id="color-history-container" style="display: none">
          <div class="section-header">
            <h3 class="section-subtitle">History</h3>
            <button class="btn btn-text btn-sm" id="clear-history" aria-label="Clear color history">
              Clear
            </button>
          </div>
          <div id="color-history" class="color-history-list" role="list"></div>
          <button
            class="btn btn-text btn-show-all"
            id="show-all-history"
            style="display: none"
            aria-label="Show all color history"
          >
            Show All
          </button>
        </div>
      </section>

      <!-- Blocked Domains Section -->
      <section class="section section-divider" id="blocked-domains-section" style="display: none">
        <div class="section-header">
          <h2 class="section-title">Blocked Domains</h2>
          <button
            class="btn btn-text btn-sm"
            id="clear-blocked-domains"
            aria-label="Clear all blocked domains"
          >
            Unblock All
          </button>
        </div>

        <div class="blocked-info">
          <p class="info-text">
            Domains are auto-blocked when 20+ CORS-protected images are detected. Unblock to
            re-enable analysis for these domains.
          </p>
        </div>

        <div id="blocked-domains-list" class="blocked-domains-list" role="list"></div>
      </section>

      <!-- Wishlist Section -->
      <section class="section section-divider" id="wishlist-section">
        <div class="section-header">
          <h2 class="section-title">Wishlist</h2>
          <button
            class="btn btn-text btn-sm"
            id="clear-wishlist"
            aria-label="Clear all wishlist items"
          >
            Clear All
          </button>
        </div>

        <div id="wishlist-empty" class="empty-state">
          <span class="empty-icon" aria-hidden="true">üíù</span>
          <p>No saved items yet</p>
          <p class="empty-hint">Click on matching items while browsing to add them here</p>
        </div>

        <div id="wishlist-items" class="wishlist-grid" role="list"></div>
      </section>
    </div>

    <!-- Footer -->
    <div class="footer">
      <p class="footer-text">Shop your Color v1.0</p>
    </div>

    <script src="../data/seasonal-palettes.js"></script>
    <script src="popup.js"></script>
  </body>
</html>
